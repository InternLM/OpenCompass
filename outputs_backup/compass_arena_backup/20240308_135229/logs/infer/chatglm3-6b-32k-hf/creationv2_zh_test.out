03/08 13:52:50 - OpenCompass - [4m[97mINFO[0m - Task [chatglm3-6b-32k-hf/creationv2_zh_test]
03/08 13:53:32 - OpenCompass - [4m[97mINFO[0m - Start inferencing [chatglm3-6b-32k-hf/creationv2_zh_test]
03/08 13:54:19 - OpenCompass - [4m[97mINFO[0m - time elapsed: 88.96s
srun: job 3457148 queued and waiting for resources
srun: job 3457148 has been allocated resources
srun: Job 3457148 scheduled successfully!
Current QUOTA_TYPE is [spot], which means the job has occupied quota in SPOT_TOTAL under your partition.
[NOTE]: This job MAY BE PREEMPTED by other jobs of reserved QUOTA_TYPE.
[NOTE]: phx_priority has NO effect on job of spot quota type.

/mnt/petrelfs/caomaosong/miniconda3/envs/opencompass/lib/python3.10/site-packages/transformers/utils/hub.py:124: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
  warnings.warn(
A new version of the following files was downloaded from https://huggingface.co/THUDM/chatglm3-6b:
- tokenization_chatglm.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
A new version of the following files was downloaded from https://huggingface.co/THUDM/chatglm3-6b:
- configuration_chatglm.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
A new version of the following files was downloaded from https://huggingface.co/THUDM/chatglm3-6b:
- modeling_chatglm.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.

Downloading shards:   0%|          | 0/7 [00:00<?, ?it/s]
Downloading shards: 100%|██████████| 7/7 [00:00<00:00, 684.59it/s]

Loading checkpoint shards:   0%|          | 0/7 [00:00<?, ?it/s]
Loading checkpoint shards:  14%|█▍        | 1/7 [00:01<00:06,  1.05s/it]
Loading checkpoint shards:  29%|██▊       | 2/7 [00:02<00:06,  1.36s/it]
Loading checkpoint shards:  43%|████▎     | 3/7 [00:05<00:08,  2.05s/it]
Loading checkpoint shards:  57%|█████▋    | 4/7 [00:07<00:06,  2.18s/it]
Loading checkpoint shards:  71%|███████▏  | 5/7 [00:10<00:04,  2.16s/it]
Loading checkpoint shards:  86%|████████▌ | 6/7 [00:16<00:03,  3.61s/it]
Loading checkpoint shards: 100%|██████████| 7/7 [00:17<00:00,  2.91s/it]
Loading checkpoint shards: 100%|██████████| 7/7 [00:17<00:00,  2.56s/it]
[2024-03-08 13:53:32,173] [opencompass.openicl.icl_inferencer.icl_gen_inferencer] [INFO] Starting inference process...

  0%|          | 0/4 [00:00<?, ?it/s]Both `max_new_tokens` (=2048) and `max_length`(=8192) seem to have been set. `max_new_tokens` will take precedence. Please refer to the documentation for more information. (https://huggingface.co/docs/transformers/main/en/main_classes/text_generation)

 25%|██▌       | 1/4 [00:18<00:56, 18.76s/it]Both `max_new_tokens` (=2048) and `max_length`(=8192) seem to have been set. `max_new_tokens` will take precedence. Please refer to the documentation for more information. (https://huggingface.co/docs/transformers/main/en/main_classes/text_generation)

 50%|█████     | 2/4 [00:28<00:26, 13.33s/it]Both `max_new_tokens` (=2048) and `max_length`(=8192) seem to have been set. `max_new_tokens` will take precedence. Please refer to the documentation for more information. (https://huggingface.co/docs/transformers/main/en/main_classes/text_generation)

 75%|███████▌  | 3/4 [00:38<00:11, 11.89s/it]Both `max_new_tokens` (=2048) and `max_length`(=8192) seem to have been set. `max_new_tokens` will take precedence. Please refer to the documentation for more information. (https://huggingface.co/docs/transformers/main/en/main_classes/text_generation)

100%|██████████| 4/4 [00:47<00:00, 10.79s/it]
100%|██████████| 4/4 [00:47<00:00, 11.89s/it]
